\begin{section}{Metodologia}
O servidor, por ser o elemento chave na consolidação do projeto, deve ser o 
módulo a ser prioritariamente configurado, a fim de ser preparado para atender
às devidas requisições, bem como executar qualquer tipo de aplicação solicitada.
Sendo assim, a instalação da plataforma Ångstr\"{o}m foi tomada como o primeiro
passo. Ångstr\"{o}m~\cite{angstrom} é um sistema operacional, baseado em Linux,
preparado exclusivamente para plataformas embarcadas, sendo o padrão para a 
própria BeagleBone. As dependências a serem instaladas são listadas na
Lista~\ref{lst:dependences}.

É importante ressaltar que os sistemas operacionais embarcados são
simplificações de sistemas operacionais mais robustos, tendo a maior parte das
suas funcionalidades reduzidas ou simplificadas para se adequar à uma plataforma
de menor porte. Por isso, a preparação deve ocorrer a partir dos pacotes mais
básicos, como o GCC, por exemplo. Outros pacotes devem ser instalados de forma
gradual, tais quais os requeridos pelo Julius, eSpeak e os necessários para a
implementação do servidor LAMP em C.

\begin{lstlisting}[language=bash, caption={Pre-instalação de dependências no
servidor}, label={lst:dependences}]
# general dependences
build-essential alsa-tools sox

# eSpeak dependences
libespeak-dev libportaudio2 libportaudio-dev

# Julius dependences
libasound2 libasound2-dev 

# LAMP dependences
apache2 libapache2-mod-fastcgi
php5 libapache2-mod-php5 php5-mcrypt # PHP (opcional?)
mysql-server libapache2-mod-auth-mysql php5-mysql # MySQL
phpmyadmin (opcional?)
libmysqlclient-dev # C
libmysqlcppconn7 libmysqlcppconn-dev # C++ (opcional?)
\end{lstlisting}

% http://eda.eme.ro/handle/10598/28187
Em~\cite{cassio14}, o Julius foi configurado para funcionar em modo servidor
através da opção nativa ``-adinnet'' (A/D \textit{Input from Network}, conversão 
A/D com entrada pela rede). Isso permite que o Julius receba amostras de áudio
via \textit{streaming} através de uma comunicação com um cliente genérico via
\textit{socket}. O código foi alterado para que o resultado gerado pelo Julius,
também conhecido como sentença, seja retornado ao cliente através desse mesmo
\textit{socket}. Além disso, uma aplicação foi construída sobre a plataforma
Android 2.3 exclusivamente para se comunicar com o servidor. Basicamente, as 
amostras de áudio obtidas pelo microfone do aparelho são enviadas, enquanto são
paralelamente analisadas a fim de se detectar o silêncio do fim da fala do
usuário. Feito isso, o aplicativo apenas aguarda a sentença a ser enviada pelo
servidor.

\begin{figure}[!h]
	\centering
	\includegraphics[width=.80\textwidth]{Figures/csr}
	\caption{Esquemático do Cliente LaPS CSR.}
	\label{fig:lapscsr_sch}
\end{figure}

A construção do dicionário fonético para o PT\_BR se dá por meio do
\textit{software} \texttt{lapsg2p}, o qual recebe uma lista de palavras como
entrada e gera suas transcrições fonéticas, conforme visto na lista abaixo, à
direita. Já a gramática é utilizada para restringir o vocabulário, de modo a
gerar somente uma das senteças listadas, como mostrado na lista abaixo, à
esquerda. A construção da gramática no formato do Julius utiliza diretamente o
dicionário fonético em seu escopo.

\begin{minipage}[t]{.50\textwidth}
\begin{lstlisting}[label={lst:gram}]
<s> aumentar volume </s>
<s> diminuir volume </s>
<s> canal mais </s>
<s> canal menos </s>
<s> ligar televisão </s>
<s> desligar televisão </s>
<s> cadastrar controle </s>
<s> selecionar controle </s>
\end{lstlisting}
\end{minipage}
\begin{minipage}[t]{.50\textwidth}
\begin{lstlisting}[label={lst:dict}]
aumentar	a u~ m e~  t a X  
diminuir	dZ i~ m i~ n u j X  
volume		v o l u~ m i  
canal		k a n a w  
mais		m a j s
menos		m e~ n u s
televisão	t e l e v i z a~ w~   
...
\end{lstlisting}
\end{minipage}

A proposta do trabalho é adicionar funcionalidades ao código do Julius,
permitindo a produção de voz sintetizada através da incorporação da API do 
eSpeak e a transmissão de informação para a TV através de um led IR conectado
a um GPIO. Um sensor IR ficará encarregado de receber informações de diferentes
controles remotos para que sejam guardadas como registros no banco de dados.

Toda a organização do trabalho será feita através da plataforma
Trello~\cite{trello}.
% http://stackoverflow.com/questions/2661129/espeak-sapi-dll-usage-on-windows
\end{section}
%%% EOF %%%
