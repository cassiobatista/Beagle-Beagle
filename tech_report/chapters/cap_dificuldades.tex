\begin{section}{Dificuldades e Soluções}
\begin{enumerate}
\item O Ångström é o sistema operacional de fábrica da BeagleBone, bastante
referenciado em fóruns e candidato principal para ser a base do projeto.
Entretanto, o sistema e a nomenclatura de pacotes não correspondiam com os
usados nas distribuições Debian, o que impossibilitava a instalação das
dependências necessárias para o uso das ferramentas de processamento de voz. 
Além disso, o Ångström também consumia muito espaço de armazenamento na 
\textit{flash}, ocupando sozinho 1.6~GB de 2~GB por conta de sua interface 
gráfica.

A opção seguinte foi o Ubuntu, pois a similaridade do sistema de pacotes
\texttt{apt-get} com a distribuição \textit{desktop} tornaria a integração mais
fácil. Porém, a instalação da versão 14.04 também ocupava espaço demais na
memória \textit{flash}: aproximadamente 1.2~GB. Além do problema de espaço,
outra dificuldade foi a conexão com a Internet, já que o acesso convencional ao
repositório de pacotes não funcionava. 

A solução veio com a instalação de um terceiro e último sistema operacional, o 
Debian 7.8 wheezy. Este se mostrou muito mais leve e ``enxuto'' em sua versão 
\textit{minimal}, ocupando menos de 500~MB da memória. Além disso, todos os 
pacotes necessários para conexão com a Internet funcionaram perfeitamente.

\item A BeagleBone não possui saída de áudio nativa, tampouco conectores do tipo
\textit{audio jack}. No Debian, a saída padrão de áudio é pelo conector HDMI, 
mas pode ser substituída pelo USB mediante modificações em parâmetros do kernel.
O modo mais fácil, considerando que redirecionar a saída do eSpeak para um GPIO
seria muito trabalhoso, seria conectar um auto-falante USB à BeagleBone. Em se
tratando de um protótipo, um \textit{headphone} faz o papel de um
\textit{speaker} que deve consumir pouca energia e ter um tamanho limitado.
Foi-se cogitada a construção de um circuito com um amplificador LM386 para o
\textit{speaker}, porém a obtenção de um D/A PCM2707 não custaria menos de 
US\$ 15.

\item A BeagleBone não possui conexão wifi. Além da dificuldade em atualizar o
kernel pra receber um \textit{shield/case}, o mesmo teria de ser conectado na 
porta USB, a qual já estaria sendo usada pelo auto-falante. Portanto, a solução
mais fácil foi conectar um roteador wifi à porta Ethernet da BBB através de um
cabo UTP.

\item Código do Arduino. (Thiago)

\item A função \texttt{mysql\_query()} recebe uma \textit{string} contendo o
comando SQL para acessar o banco de dados MySQL. Caso se queira editar o valor
de um atributo numa determinada tabela, por exemplo, basta passar o valor e o
atributo como parâmetros para a função, o que exige que as \textit{strings}
sejam manipuladas constantemente afim de tornar as requisições automáticas.
Para que não se utilize mais espaços de memória do que necessário, optou-se pela
alocação dinâmica através da função \texttt{malloc()}, auxiliada pela função
\texttt{sprintf()}, a qual é responsável pela junção de \textit{strings}. O
código ainda está sob revisão, já que diversas falhas de segmentação vêm
ocorrendo devido à erros no gerenciamento de memória. Além disso, o custo
computacional provocado pelas diversas \textit{queries} no banco ainda não pode
ser previsto. Essa previsão é muito importante visto que, em uma futura
utilização de um servidor Apache para acesso remoto de qualquer lugar via
cliente PHP, por exemplo, o efeito \textit{snowball} pode surgir como uma
consequência negativa.

%que usar diversas vezes alocaç\~{o}es de mem\'{o}ria (\textit{*malloc()}) e
%\textit{sprintf()}s, tornando o c\'{o}digo, em mais espec\'{i}fico o
%gerenciamento dos campos da mem\'{o}ria, ca\'{o}tico, apresentando algumas vezes
%falha de segmentaç\~{a}o. Posteriormente, com a adiç\~{a}o de outros aparelhos e
%mais tabelas, estas queries ficaram cada vez mais recorrentes e mais falhas
%poderam acontecer. 

%Al\'{e}m disso, por estarmos acessando o MySQL por meio de uma outra linguagem (no caso C), n\~{a}o podemos prever 
%agora poss\'{i}veis custos computacionais que essas diversas e constantes queries poder\~{a}o gerar nas threads 
%dentro do BeagleBone Black\textregistered. Numa poss\'{i}vel e vindoura utilizaç\~{a}o de um servidor Apache com o 
%PHP essa comunicaç\~{a}o adicional e constante poder\'{a} resultar em significante custo computacional tornando-se um 
%efeito \textit{snowball}, bola de neve.
\end{enumerate}
\end{section}
%%% EOF %%%
